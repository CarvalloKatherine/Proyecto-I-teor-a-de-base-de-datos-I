Table Usuario {
  id_usuario varchar(30) [primary key]
  clave varchar(30) 
  primer_nombre varchar(100)
  segundo_nombre varchar(310)
  primer_apellido varchar(100)
  segundo_apellido varchar(100)
  correo_electronico varchar(200) Unique
  fecha_registro DATE 
  salario_mensual_base double 
  estado bool
  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 
}

Table Presupuesto {
  id_presupuesto varchar(30) [primary key]
  id_usuario varchar(30)
  usuario varchar(200)
  nombre_descriptivo varchar(100)
  anio_inicio int 
  mes_inicio int 
  anio_fin int 
  mes_fin int 
  total_ingresos double 
  total_gastos double 
  total_ahorro double 
  fecha_hora_creacion TIMESTAMP 
  estado_presupuesto varchar(30)
  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 
}


Table Categoria{
  id_categoria varchar(30) [primary key]
  nombre_categoria varchar(30)
  descripcion_detallada varchar(300)
  tipo_categoria varchar(30)
  nombre_icono varchar(30)
  color_hex varchar(30)
  orden_presentacion varchar(30)
  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 

}

Table SubCategoria{
  id_subcategoria varchar(30) [primary key]
  id_categoria varchar(30)
  categoria_padre varchar(30)
  nombre_subcategoria varchar(30)
  descripcion_detallada_sub varchar(300)
  estado_sub bool
  por_defecto bool 
  

  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 

}

Table presupuesto_detalle{
  id_presupuesto_detalle varchar(30) [primary key]
  id_presupuesto varchar(30)
  id_subcategoria varchar(30) 
  presupuesto_padre varchar(30)
  subcategoria varchar(30) 
  monto_mensual_asignado double
  observaciones  varchar(100)
  

  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 

}


Table obligacion_fija{
  id_obligacion varchar(30) [primary key]
  id_subcategoria varchar(30)
  usuario varchar(30)
  subcategoria varchar(30)
  nombre_obligacion VARCHAR(50)
  descripcion  varchar(100)
  monto_fijo_mensual double
  dia int
  vigente bool
  fecha_inicio DATE 
  fecha_fin DATE 
  
  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 

}

Table obligacion_transaccion{
  id_transaccion varchar(30) [primary key]
  id_obligacion varchar(30) 
}


Table transaccion{
  id_transaccion varchar(30) [primary key]
  id_presupuesto_detalle varchar(30)
  usuario varchar(30)
  presupuesto varchar(50)
  anio int
  mes int
  subcategoria varchar(30)
  obligacion varchar(30)
  tipo_transaccion varchar(30)
  descripcion varchar (100)
  monto double
  fecha Date
  metodo_pago varchar(50)
  num_factura int
  observaciones varchar(100)
  fecha_hora_registro TIMESTAMP 
  
  creado_por varchar(200)
  creado_en TIMESTAMP 
  modificado_por varchar(200)
  modificado_en TIMESTAMP 

}



Ref: "Usuario"."id_usuario" < "Presupuesto"."id_usuario"

Ref: "Presupuesto"."id_presupuesto" < "presupuesto_detalle"."id_presupuesto"

Ref: "SubCategoria"."id_subcategoria" < "presupuesto_detalle"."id_subcategoria"


Ref: "obligacion_fija"."id_obligacion" < "obligacion_transaccion"."id_obligacion"

Ref: "transaccion"."id_transaccion" < "obligacion_transaccion"."id_transaccion"


Ref: "Categoria"."id_categoria" < "SubCategoria"."id_categoria"


Ref: "presupuesto_detalle"."id_presupuesto_detalle" < "transaccion"."id_presupuesto_detalle"

Ref: "SubCategoria"."id_subcategoria" < "obligacion_fija"."id_subcategoria"